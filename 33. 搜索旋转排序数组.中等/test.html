<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <script type="text/javascript">
    /**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
  var search = function(nums, target) {
    let index = -1;
    let middleIndex  = Math.floor(nums.length/2);
    let start = 0;
    let end = nums.length-1;
    while(start<=end){
      //位运算，相当于/2
      const mid = start+ ((end - start) >> 1);
      if(nums[mid]===target){return mid};
      
      if(nums[mid]>=nums[start]){
        //再start~mid中有序
        if(target>=nums[start] && target <=nums[mid]){
          end = mid-1;
        }else{
          //target 不在 [start,mid]
          start = mid +1;
        } 
      }else{
        //[mid,end]中有序
        if(target >=nums[mid]&&target<=nums[end]){
          start = mid + 1;
        }else{
          end = mid - 1;
        }
      }
    }

    return -1;
  };
    console.log(search([5,1,3],3))
    </script>
</body>

</html>